<!-- views/index.ejs -->

<!doctype html>

<html>

<head>
    <title>Node Authentication</title>
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap.min.css">
    <!-- load bootstrap css -->
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css">
    <!-- load fontawesome -->
    <style>
        body {
            padding-top: 80px;
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="jumbotron text-center">
            <h1>
                <span class="fa fa-lock"></span> Node Authentication</h1>
            <p>Login or Register with:</p>
            <a href="/login365" class="btn btn-default">
                <span class="fa fa-user"></span> Azure AD Login</a>
            <a href="/profile" class="btn btn-default">
                <span class="fa fa-user"></span>Profile</a>
            <a href="/site" class="btn btn-default">
                <span class="fa fa-user"></span>Site</a>
            <a href="/keys" class="btn btn-default">
                <span class="fa fa-user"></span>Keys</a>
        </div>
    </div>

    <div class="leftAlign">
        <h4>OAuth2 token</h4>
        <% if (user) { for (var res in user.tokens) { %>
            <table border="1" style="width:85%;text-align:left">
                <% for (var key in user.tokens[res]) { %>
                    <tr>
                        <td>
                            <%= key %>
                        </td>
                        <td>
                            <%= user.tokens[res][key] %>
                        </td>
                    </tr>
                    <% } %>
            </table>
            <% }} %>
    </div>
    <p>Full Claimes</p>
    <%- JSON.stringify(user) %>
        <p></p>
</body>

</html>